name: Test Python App 
 
on: [push, pull_request] 
 
jobs: 
  test: 
    runs-on: ubuntu-latest 
    steps: 
      - name: Récupérer le code 
        uses: actions/checkout@v3 
 
      - name: Installer Python 
        uses: actions/setup-python@v4 
        with: 
          python-version: 3.x 
 
      - name: Installer les dépendances 
        run: pip install pytest 
 
      - name: Exécuter les tests 
        run: python -m unittest test_app.py 
        - name: Analyse du code avec SonarQube
  run: |
    sonar-scanner \
      -Dsonar.organization=VOTRE_ORG \
      -Dsonar.projectKey=VOTRE_PROJET \
      -Dsonar.sources=. \
      -Dsonar.host.url=https://sonarcloud.io \
      -Dsonar.login=$SONAR_TOKEN
